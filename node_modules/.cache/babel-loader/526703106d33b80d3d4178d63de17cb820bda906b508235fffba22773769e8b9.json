{"ast":null,"code":"var _jsxFileName = \"/home/sfn/Take Home Project/react-news-feed/src/Components/Modals/ProfileModal.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport InlineEdit from '../UI/InlineEditText';\nimport { updateProfilePicture, updateUsername, updatePreferences } from '../../Redux/user/userActions';\nimport { MDBBtn, MDBModal, MDBModalDialog, MDBModalContent, MDBModalHeader, MDBModalTitle, MDBModalBody, MDBModalFooter, MDBCol, MDBRow, MDBCard, MDBCardText, MDBCardBody, MDBCardImage } from 'mdb-react-ui-kit';\nimport MinimizedCardComponent from '../Cards/MinimizedCard';\nimport AuthContext from \"../../Contexts/AuthContext\";\nimport apiClient from '../../Services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfileModal(_ref) {\n  _s();\n  let {\n    showProfileModal\n  } = _ref;\n  const {\n    authData\n  } = useContext(AuthContext);\n  const [basicModal, setBasicModal] = useState(true);\n  const categories = useSelector(state => state.categories.map(c => {\n    const userPreferences = authData.user.preferences || {};\n    const isChecked = userPreferences.category_id && userPreferences.category_id.includes(c.id);\n    return {\n      ...c,\n      isChecked\n    };\n  }), (prevCategories, newCategories) => {\n    // Compare the previous and current categories array\n    // Return true if they are equal, or false otherwise\n    // You can implement your own comparison logic based on your use case\n    return JSON.stringify(prevCategories) === JSON.stringify(newCategories);\n  });\n  const [userName, setUserName] = useState(authData && authData.user ? authData.user.name : '');\n  const [image, setImage] = useState(authData && authData.user ? authData.user.image : '');\n  const toggleShow = () => setBasicModal(!basicModal);\n  const dispatch = useDispatch();\n  const handleProfilePictureUpdate = pictureUrl => {\n    dispatch(updateProfilePicture(pictureUrl));\n  };\n  const handleUsernameUpdate = username => {\n    dispatch(updateUsername(username));\n  };\n  const openFileInput = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    document.getElementById('file-input').click();\n  };\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    console.log(file);\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = handleFileRead;\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleFileRead = event => {\n    const base64Image = event.target.result;\n    setImage(base64Image);\n  };\n  const handleCategoryClick = categoryId => {\n    const updatedCategories = categories.map(category => {\n      if (category.id === categoryId) {\n        return {\n          ...category,\n          isChecked: !category.isChecked\n        };\n      }\n      return category;\n    }).filter(el => el.isChecked).map(category => {\n      return category.id;\n    });\n    dispatch(updatePreferences({\n      ...authData.user.preferences,\n      category_id: updatedCategories\n    }));\n  };\n  const handleSaveChanges = e => {\n    e.preventDefault();\n\n    // Gather all the data from the modal\n    const updatedData = {\n      name: userName,\n      preferences: {\n        user_id: +authData.user.id,\n        category_id: categories.filter(cat => cat.isChecked).map(el => {\n          return el.id;\n        }),\n        source_id: [],\n        author_id: []\n      },\n      image: image\n    };\n    apiClient.post('/api/updateProfile', updatedData).then(response => {\n      setBasicModal(true);\n    }).catch(error => {\n      // Handle the error\n      console.error(error);\n    });\n  };\n  console.log(image);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MDBModal, {\n      show: basicModal,\n      setShow: setBasicModal,\n      tabIndex: \"-1\",\n      children: /*#__PURE__*/_jsxDEV(MDBModalDialog, {\n        children: /*#__PURE__*/_jsxDEV(MDBModalContent, {\n          children: [/*#__PURE__*/_jsxDEV(MDBModalHeader, {\n            children: [/*#__PURE__*/_jsxDEV(MDBModalTitle, {\n              children: \"Edit profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n              className: \"btn-close\",\n              color: \"none\",\n              onClick: toggleShow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBModalBody, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: '#9de2ff'\n              },\n              children: /*#__PURE__*/_jsxDEV(MDBCard, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white d-flex flex-row\",\n                  style: {\n                    backgroundColor: '#000',\n                    height: '200px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-4 mt-5 d-flex flex-column\",\n                    style: {\n                      width: '150px'\n                    },\n                    children: [image && /*#__PURE__*/_jsxDEV(MDBCardImage, {\n                      src: image,\n                      alt: \"Generic placeholder image\",\n                      className: \"mt-4 mb-2 img-thumbnail\",\n                      fluid: true,\n                      style: {\n                        width: '150px',\n                        zIndex: '1'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                      outline: true,\n                      color: \"dark\",\n                      style: {\n                        height: '36px',\n                        overflow: 'visible'\n                      },\n                      onClick: openFileInput,\n                      children: \"Change picture\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      onClick: handleFileSelect,\n                      hidden: true,\n                      id: \"file-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-3\",\n                    style: {\n                      marginTop: '130px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(InlineEdit, {\n                      value: userName,\n                      setValue: setUserName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBCardBody, {\n                  className: \"mt-5 text-black p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"lead fw-normal mb-1\",\n                      children: \"Preferences\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-4\",\n                      style: {\n                        backgroundColor: '#f8f9fa'\n                      },\n                      children: categories.map(cat => /*#__PURE__*/_jsxDEV(MDBBtn, {\n                        outline: true,\n                        rounded: true,\n                        className: `m-1 ${cat.isChecked ? 'bg-primary' : ''}`,\n                        color: \"secondary\",\n                        onClick: e => {\n                          e.preventDefault();\n                          handleCategoryClick(cat.id);\n                        } // Call handleButtonClick with the category ID\n                        ,\n                        children: cat.name\n                      }, cat.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between align-items-center mb-4\",\n                    children: /*#__PURE__*/_jsxDEV(MDBCardText, {\n                      className: \"lead fw-normal mb-0\",\n                      children: \"Recent Activities\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n                    children: /*#__PURE__*/_jsxDEV(MDBCol, {\n                      className: \"mb-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBModalFooter, {\n            children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n              onClick: handleSaveChanges,\n              children: \"Save preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ProfileModal, \"jRvw9JsK8wdsp2HzOmrjP4tm8hM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ProfileModal;\nvar _c;\n$RefreshReg$(_c, \"ProfileModal\");","map":{"version":3,"names":["React","useContext","useState","useSelector","useDispatch","InlineEdit","updateProfilePicture","updateUsername","updatePreferences","MDBBtn","MDBModal","MDBModalDialog","MDBModalContent","MDBModalHeader","MDBModalTitle","MDBModalBody","MDBModalFooter","MDBCol","MDBRow","MDBCard","MDBCardText","MDBCardBody","MDBCardImage","MinimizedCardComponent","AuthContext","apiClient","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileModal","_ref","_s","showProfileModal","authData","basicModal","setBasicModal","categories","state","map","c","userPreferences","user","preferences","isChecked","category_id","includes","id","prevCategories","newCategories","JSON","stringify","userName","setUserName","name","image","setImage","toggleShow","dispatch","handleProfilePictureUpdate","pictureUrl","handleUsernameUpdate","username","openFileInput","e","stopPropagation","preventDefault","document","getElementById","click","handleFileSelect","event","file","target","files","console","log","reader","FileReader","onload","handleFileRead","readAsDataURL","base64Image","result","handleCategoryClick","categoryId","updatedCategories","category","filter","el","handleSaveChanges","updatedData","user_id","cat","source_id","author_id","post","then","response","catch","error","children","show","setShow","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","className","color","onClick","style","backgroundColor","height","width","src","alt","fluid","zIndex","outline","overflow","type","hidden","marginTop","value","setValue","rounded","_c","$RefreshReg$"],"sources":["/home/sfn/Take Home Project/react-news-feed/src/Components/Modals/ProfileModal.js"],"sourcesContent":["import React, { useContext,useState } from 'react';\nimport { useSelector , useDispatch} from 'react-redux';\nimport InlineEdit from '../UI/InlineEditText';\nimport {\n  updateProfilePicture,\n  updateUsername,\n  updatePreferences,\n} from '../../Redux/user/userActions';\n\nimport {\n  MDBBtn,\n  MDBModal,\n  MDBModalDialog,\n  MDBModalContent,\n  MDBModalHeader,\n  MDBModalTitle,\n  MDBModalBody,\n  MDBModalFooter,\n  MDBCol, MDBRow, MDBCard, MDBCardText, MDBCardBody, MDBCardImage } from 'mdb-react-ui-kit';\nimport MinimizedCardComponent from '../Cards/MinimizedCard';\nimport AuthContext from \"../../Contexts/AuthContext\";\nimport apiClient from '../../Services/api';\nexport default function ProfileModal({showProfileModal}) {\n  const {authData} = useContext(AuthContext);\n\n  const [basicModal, setBasicModal] = useState(true);\n  const categories = useSelector(\n    state => state.categories.map(c => {\n      const userPreferences = authData.user.preferences || {};\n      const isChecked = userPreferences.category_id && userPreferences.category_id.includes(c.id);\n      return {...c, isChecked};\n    }),\n    (prevCategories, newCategories) => {\n      // Compare the previous and current categories array\n      // Return true if they are equal, or false otherwise\n      // You can implement your own comparison logic based on your use case\n      return JSON.stringify(prevCategories) === JSON.stringify(newCategories);\n    }\n  );\n  const [userName, setUserName] = useState(authData && authData.user ? authData.user.name : '');\n  const [image, setImage] = useState(authData && authData.user ? authData.user.image : '')\n\n  const toggleShow = () => setBasicModal(!basicModal);\n\n  const dispatch = useDispatch();\n\n  const handleProfilePictureUpdate = (pictureUrl) => {\n    dispatch(updateProfilePicture(pictureUrl));\n  };\n\n  const handleUsernameUpdate = (username) => {\n    dispatch(updateUsername(username));\n  };\n\n \n  const openFileInput = (e) => {\n    e.stopPropagation();\n    e.preventDefault()\n    document.getElementById('file-input').click();\n  }\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    console.log(file);\n    if (file) {\n      const reader = new FileReader();\n  \n      reader.onload = handleFileRead;\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleFileRead = (event) => {\n    const base64Image = event.target.result;\n    setImage(base64Image)\n  };\n\n  const handleCategoryClick = (categoryId) => {\n\n     const updatedCategories = categories.map((category) => {\n    if (category.id === categoryId) {\n      return {\n        ...category,\n        isChecked: !category.isChecked,\n      };\n    }\n    return category;\n  }).filter(el => el.isChecked).map((category) => {return category.id});\n\n  dispatch(updatePreferences({...authData.user.preferences ,category_id:updatedCategories}));\n  };\n\n  const handleSaveChanges = (e) => {\n    e.preventDefault();\n\n    // Gather all the data from the modal\n    const updatedData = {\n      name: userName,\n      preferences: {\n        user_id : +authData.user.id,\n        category_id : categories.filter(cat => cat.isChecked).map((el) => {return el.id}),\n        source_id : [],\n        author_id : []\n      },\n      image: image\n    };\n\n    apiClient\n    .post('/api/updateProfile', updatedData)\n    .then(response => {\n      setBasicModal(true)\n    })\n    .catch(error => {\n      // Handle the error\n      console.error(error);\n    });\n  };\n\n  console.log(image)\n\n\n\n  return (\n    <>\n      <MDBModal show={basicModal} setShow={setBasicModal} tabIndex='-1'>\n        <MDBModalDialog>\n          <MDBModalContent>\n            <MDBModalHeader>\n              <MDBModalTitle>Edit profile</MDBModalTitle>\n              <MDBBtn className='btn-close' color='none' onClick={toggleShow}></MDBBtn>\n            </MDBModalHeader>\n            <MDBModalBody>\n                <div style={{ backgroundColor: '#9de2ff' }}>\n                    <MDBCard>\n                    <div className=\"text-white d-flex flex-row\" style={{ backgroundColor: '#000', height: '200px' }}>\n                        <div className=\"ms-4 mt-5 d-flex flex-column\" style={{ width: '150px' }}>\n                        {image && <MDBCardImage src={image}\n                            alt=\"Generic placeholder image\" className=\"mt-4 mb-2 img-thumbnail\" fluid style={{ width: '150px', zIndex: '1' }} />}\n                        <MDBBtn outline color=\"dark\" style={{height: '36px', overflow: 'visible'}} onClick={openFileInput}>\n                            Change picture\n                        </MDBBtn>\n                        <input type=\"file\" onClick={handleFileSelect} hidden id='file-input'/>\n                        </div>\n                        <div className=\"ms-3\" style={{ marginTop: '130px' }}>\n                        <InlineEdit value={userName} setValue={setUserName} />\n                        </div>\n                    </div>\n                    <MDBCardBody className=\"mt-5 text-black p-4\">\n                        <div className=\"mb-5\">\n                        <p className=\"lead fw-normal mb-1\">Preferences</p>\n                        <div className=\"p-4\" style={{ backgroundColor: '#f8f9fa' }}>\n                        {categories.map((cat) => (\n                          <MDBBtn\n                            outline\n                            rounded\n                            key={cat.id}\n                            className={`m-1 ${cat.isChecked ? 'bg-primary' : ''}`}\n                            color='secondary'\n                            onClick={(e) => {\n                              e.preventDefault();\n                              handleCategoryClick(cat.id)\n                            }} // Call handleButtonClick with the category ID\n                          >\n                            {cat.name}\n                          </MDBBtn>\n                        ))}\n                        </div>\n                        </div>\n                        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                        <MDBCardText className=\"lead fw-normal mb-0\">Recent Activities</MDBCardText>\n                        </div>\n                        <MDBRow>\n                            <MDBCol className=\"mb-2\">\n                                {/* <MinimizedCardComponent /> */}\n                            </MDBCol>\n                        </MDBRow>\n                    </MDBCardBody>\n                    </MDBCard>\n                </div>\n            </MDBModalBody>\n\n            <MDBModalFooter>\n              {/*<MDBBtn color='secondary' onClick={toggleShow}>\n                Close\n                    </MDBBtn>*/}\n              <MDBBtn onClick={handleSaveChanges}>Save preferences</MDBBtn>\n            </MDBModalFooter>\n          </MDBModalContent>\n        </MDBModalDialog>\n      </MDBModal>\n    </>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}