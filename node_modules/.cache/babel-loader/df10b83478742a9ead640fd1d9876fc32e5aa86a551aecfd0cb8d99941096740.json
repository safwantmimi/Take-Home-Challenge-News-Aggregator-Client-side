{"ast":null,"code":"var _jsxFileName = \"/home/sfn/Take Home Project/react-news-feed/src/Components/UI/InfiniteScroll.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InfiniteScroll = _ref => {\n  _s();\n  let {\n    data,\n    setData,\n    onSelectItem\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  useEffect(() => {\n    // Load initial items\n    loadItems();\n\n    // Cleanup function\n    return () => {\n      // Perform any necessary cleanup\n    };\n  }, []);\n  const loadItems = () => {\n    if (!hasMore || loading) {\n      return;\n    }\n    setLoading(true);\n    // Simulate fetching items from the server\n    // Replace this with your actual data fetching logic\n    fetchItemsFromServer().then(newItems => {\n      setLoading(false);\n      if (newItems.length === 0) {\n        setHasMore(false);\n      } else {\n        setData(prevData => [...prevData, ...newItems]);\n      }\n    }).catch(error => {\n      setLoading(false);\n      // Handle error\n    });\n  };\n\n  const handleSelectItem = item => {\n    onSelectItem(item);\n    // Perform any other necessary actions when an item is selected\n  };\n\n  const handleScroll = () => {\n    const scrollHeight = document.documentElement.scrollHeight;\n    const scrollTop = document.documentElement.scrollTop;\n    const clientHeight = document.documentElement.clientHeight;\n    if (scrollHeight - scrollTop === clientHeight) {\n      loadItems();\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  const fetchItemsFromServer = () => {\n    // Simulate fetching items from the server\n    // Replace this with your actual data fetching logic\n    return new Promise(resolve => {\n      // Simulate delay\n      setTimeout(() => {\n        const newItems = generateNewItems(); // Generate new items\n        resolve(newItems);\n      }, 1000);\n    });\n  };\n  const generateNewItems = () => {\n    // Generate new items for demonstration\n    const newItems = [];\n    for (let i = 0; i < 10; i++) {\n      const itemId = data.length + i + 1;\n      const newItem = {\n        id: itemId,\n        name: `Item ${itemId}`\n      };\n      newItems.push(newItem);\n    }\n    return newItems;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      children: data.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleSelectItem(item),\n        children: item.name\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }, this), !loading && !hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No more items to load.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(InfiniteScroll, \"EYb3MaCBVM+ohyrE9Q3+LNbxwS8=\");\n_c = InfiniteScroll;\nexport default InfiniteScroll;\nvar _c;\n$RefreshReg$(_c, \"InfiniteScroll\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","InfiniteScroll","_ref","_s","data","setData","onSelectItem","loading","setLoading","hasMore","setHasMore","loadItems","fetchItemsFromServer","then","newItems","length","prevData","catch","error","handleSelectItem","item","handleScroll","scrollHeight","document","documentElement","scrollTop","clientHeight","window","addEventListener","removeEventListener","Promise","resolve","setTimeout","generateNewItems","i","itemId","newItem","id","name","push","children","map","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/sfn/Take Home Project/react-news-feed/src/Components/UI/InfiniteScroll.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst InfiniteScroll = ({ data, setData, onSelectItem }) => {\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n\n  useEffect(() => {\n    // Load initial items\n    loadItems();\n\n    // Cleanup function\n    return () => {\n      // Perform any necessary cleanup\n    };\n  }, []);\n\n  const loadItems = () => {\n    if (!hasMore || loading) {\n      return;\n    }\n\n    setLoading(true);\n    // Simulate fetching items from the server\n    // Replace this with your actual data fetching logic\n    fetchItemsFromServer()\n      .then((newItems) => {\n        setLoading(false);\n        if (newItems.length === 0) {\n          setHasMore(false);\n        } else {\n          setData((prevData) => [...prevData, ...newItems]);\n        }\n      })\n      .catch((error) => {\n        setLoading(false);\n        // Handle error\n      });\n  };\n\n  const handleSelectItem = (item) => {\n    onSelectItem(item);\n    // Perform any other necessary actions when an item is selected\n  };\n\n  const handleScroll = () => {\n    const scrollHeight = document.documentElement.scrollHeight;\n    const scrollTop = document.documentElement.scrollTop;\n    const clientHeight = document.documentElement.clientHeight;\n\n    if (scrollHeight - scrollTop === clientHeight) {\n      loadItems();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  const fetchItemsFromServer = () => {\n    // Simulate fetching items from the server\n    // Replace this with your actual data fetching logic\n    return new Promise((resolve) => {\n      // Simulate delay\n      setTimeout(() => {\n        const newItems = generateNewItems(); // Generate new items\n        resolve(newItems);\n      }, 1000);\n    });\n  };\n\n  const generateNewItems = () => {\n    // Generate new items for demonstration\n    const newItems = [];\n\n    for (let i = 0; i < 10; i++) {\n      const itemId = data.length + i + 1;\n      const newItem = { id: itemId, name: `Item ${itemId}` };\n      newItems.push(newItem);\n    }\n\n    return newItems;\n  };\n\n  return (\n    <div>\n      <ul>\n        {data.map((item) => (\n          <li key={item.id} onClick={() => handleSelectItem(item)}>\n            {item.name}\n          </li>\n        ))}\n      </ul>\n      {loading && <div>Loading...</div>}\n      {!loading && !hasMore && <div>No more items to load.</div>}\n    </div>\n  );\n};\n\nexport default InfiniteScroll;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}