{"ast":null,"code":"var _jsxFileName = \"/home/sfn/Take Home Project/react-news-feed/src/Components/Modals/ProfileModal.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport InlineEdit from '../UI/InlineEditText';\nimport { MDBBtn, MDBModal, MDBModalDialog, MDBModalContent, MDBModalHeader, MDBModalTitle, MDBModalBody, MDBModalFooter, MDBCol, MDBRow, MDBCard, MDBCardText, MDBCardBody, MDBCardImage } from 'mdb-react-ui-kit';\nimport AuthContext from '../../Contexts/AuthContext';\nimport apiClient from '../../Services/api';\nimport { useForm } from '../../Hooks/useForm';\nimport InfiniteScroll from '../UI/InfiniteScroll';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfileModal(_ref) {\n  _s();\n  var _authData$user4;\n  let {\n    showProfileModal,\n    setShowProfile,\n    props\n  } = _ref;\n  const {\n    authData,\n    setAuthData\n  } = useContext(AuthContext);\n  const [userName, setUserName] = useState(authData && authData.user ? authData.user.name : '');\n  const [image, setImage] = useState(authData && authData.user ? authData.user.image.trim().replace('=,', '=') : '');\n  const [selectedCategories, setSelectedCategories] = useState(props.categories.filter(c => {\n    var _authData$user, _authData$user$prefer;\n    return authData && ((_authData$user = authData.user) === null || _authData$user === void 0 ? void 0 : (_authData$user$prefer = _authData$user.preferences) === null || _authData$user$prefer === void 0 ? void 0 : _authData$user$prefer.category_id.includes(c.id));\n  }).map(el => el.id));\n  const [selectedAuthors, setSelectedAuthors] = useState(props.authors.filter(c => {\n    var _authData$user2, _authData$user2$prefe;\n    return authData && ((_authData$user2 = authData.user) === null || _authData$user2 === void 0 ? void 0 : (_authData$user2$prefe = _authData$user2.preferences) === null || _authData$user2$prefe === void 0 ? void 0 : _authData$user2$prefe.author_id.includes(c.id));\n  }));\n  const [selectedSources, setSelectedSources] = useState(props.sources.filter(c => {\n    var _authData$user3, _authData$user3$prefe;\n    return authData && ((_authData$user3 = authData.user) === null || _authData$user3 === void 0 ? void 0 : (_authData$user3$prefe = _authData$user3.preferences) === null || _authData$user3$prefe === void 0 ? void 0 : _authData$user3$prefe.source_id.includes(c.id));\n  }));\n  const {\n    setErrors,\n    renderFieldError,\n    message,\n    setMessage,\n    navigate\n  } = useForm();\n  const toggleShow = () => setShowProfile(!showProfileModal);\n  const openFileInput = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    document.getElementById('file-input').click();\n  };\n  const handleFileSelect = event => {\n    event.preventDefault();\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = handleFileRead;\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleFileRead = event => {\n    event.preventDefault();\n    const base64Image = event.target.result;\n    setImage(base64Image);\n  };\n\n  // const handlePreferenceClick = (objectId,object) => {\n  //   console.log(objectId)\n  //   console.log(object)\n  //   object((prevSelectedCategories) => {\n  //     const updatedObject = [...prevSelectedCategories];\n  //     const categoryIndex = updatedObject.indexOf(objectId);\n\n  //     if (categoryIndex !== -1) {\n  //       updatedObject.splice(categoryIndex, 1); // Remove category if already selected\n  //     } else {\n  //       updatedObject.push(objectId); // Add category if not selected\n  //     }\n\n  //     return updatedObject;\n  //   });\n  // };\n\n  const handlePreferenceClick = (objectItem, setObject) => {\n    setObject(prevSelectedItems => {\n      const updatedItems = [...prevSelectedItems];\n      const itemIndex = updatedItems.indexOf(objectItem);\n      if (itemIndex !== -1) {\n        updatedItems.splice(itemIndex, 1); // Remove item if already selected\n      } else {\n        updatedItems.push(objectItem); // Add item if not selected\n      }\n\n      return updatedItems;\n    });\n  };\n  const handleSaveChanges = e => {\n    e.preventDefault();\n\n    // Gather all the data from the modal\n    const updatedData = {\n      name: userName,\n      preferences: {\n        user_id: +authData.user.id,\n        category_id: selectedCategories,\n        source_id: selectedSources.map(el => {\n          return el.id;\n        }),\n        author_id: selectedAuthors.map(el => {\n          return el.id;\n        })\n      },\n      image: image\n    };\n    apiClient.post('/api/updateProfile', updatedData).then(response => {\n      console.log(response);\n      if (response.status == 200 || response.status == 204) {\n        // Update the userData after saving preferences\n        setAuthData(prevAuthData => ({\n          ...prevAuthData,\n          user: {\n            ...prevAuthData.user,\n            name: userName,\n            preferences: {\n              ...prevAuthData.user.preferences,\n              category_id: selectedCategories.length ? selectedCategories : null,\n              source_id: selectedSources.length ? selectedSources : null,\n              author_id: selectedAuthors.length ? selectedAuthors : null\n            },\n            image: image\n          }\n        }));\n        setShowProfile(false);\n      }\n    }).catch(error => {\n      if (error.response.data.message) {\n        setMessage(error.response.data.message);\n      }\n      if (error.response.data.errors) {\n        setErrors(error.response.data.errors);\n      }\n    });\n  };\n  console.log(authData.user);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MDBModal, {\n      show: showProfileModal,\n      setShow: setShowProfile,\n      tabIndex: \"-1\",\n      children: /*#__PURE__*/_jsxDEV(MDBModalDialog, {\n        children: /*#__PURE__*/_jsxDEV(MDBModalContent, {\n          children: [/*#__PURE__*/_jsxDEV(MDBModalHeader, {\n            children: [/*#__PURE__*/_jsxDEV(MDBModalTitle, {\n              children: \"Edit profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n              className: \"btn-close\",\n              color: \"none\",\n              onClick: toggleShow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBModalBody, {\n            children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n              children: message && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: '#9de2ff'\n              },\n              children: /*#__PURE__*/_jsxDEV(MDBCard, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white d-flex flex-row\",\n                  style: {\n                    backgroundColor: '#000',\n                    height: '200px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-4 mt-5 d-flex flex-column\",\n                    style: {\n                      width: '150px'\n                    },\n                    children: [image && /*#__PURE__*/_jsxDEV(MDBCardImage, {\n                      src: image,\n                      alt: \"Generic placeholder image\",\n                      className: \"mt-4 mb-2 img-thumbnail\",\n                      fluid: true,\n                      style: {\n                        width: '150px',\n                        zIndex: '1'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                      outline: true,\n                      color: \"dark\",\n                      style: {\n                        height: '36px',\n                        overflow: 'visible'\n                      },\n                      onClick: openFileInput,\n                      children: \"Change picture\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      onClick: handleFileSelect,\n                      hidden: true,\n                      id: \"file-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-3\",\n                    style: {\n                      marginTop: '130px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(InlineEdit, {\n                      value: userName,\n                      setValue: setUserName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MDBCardBody, {\n                  className: \"mt-5 text-black p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-bloc justify-content-between align-items-center mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(MDBCardText, {\n                      className: \"lead pr-2 mt-1 fw-normal mb-0 bg-primary text-sm fs-6 text-white p-2\",\n                      children: \"Choose your favorite categories:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-1 mt-2\",\n                      style: {\n                        backgroundColor: '#f8f9fa',\n                        marginLeft: '1rem'\n                      },\n                      children: props.categories.map(cat => /*#__PURE__*/_jsxDEV(MDBBtn, {\n                        outline: true,\n                        rounded: true,\n                        className: `m-1 ${selectedCategories.includes(cat.id) ? 'bg-primary text-white' : ''}`,\n                        color: \"primary\",\n                        onClick: e => {\n                          e.preventDefault();\n                          handlePreferenceClick(cat.id, setSelectedCategories);\n                        },\n                        children: cat.name\n                      }, cat.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-1 ml-2\",\n                      style: {\n                        backgroundColor: '#f8f9fa'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-bloc justify-content-between align-items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(MDBCardText, {\n                            className: \"lead pr-2 fw-normal mb-0 bg-primary fs-6 text-white p-2\",\n                            children: \"Choose your favorite author:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 210,\n                            columnNumber: 27\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-1 mt-2\",\n                            style: {\n                              backgroundColor: '#f8f9fa',\n                              marginLeft: '1rem'\n                            },\n                            children: selectedAuthors && selectedAuthors.map(author => /*#__PURE__*/_jsxDEV(MDBBtn, {\n                              outline: true,\n                              rounded: true,\n                              className: `m-1 text-sm text-wrap text-capitalize  btn-sm`,\n                              color: \"primary\",\n                              onClick: e => {\n                                e.preventDefault();\n                                handlePreferenceClick(author, setSelectedAuthors);\n                              },\n                              children: author.name\n                            }, author.id, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 213,\n                              columnNumber: 33\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 211,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 209,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            backgroundColor: '#f8f9fa',\n                            marginLeft: '1rem'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n                            data: props.authors,\n                            setData: () => {\n                              setSelectedAuthors;\n                            },\n                            onSelectItem: item => handlePreferenceClick(item, setSelectedAuthors),\n                            selectedItems: selectedAuthors\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 230,\n                            columnNumber: 27\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-1 ml-2\",\n                      style: {\n                        backgroundColor: '#f8f9fa'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-bloc justify-content-between align-items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(MDBCardText, {\n                            className: \"lead pr-2 fw-normal mb-0 bg-primary fs-6 text-white p-2\",\n                            children: \"Choose your favorite source:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 27\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-1 mt-2\",\n                            style: {\n                              backgroundColor: '#f8f9fa',\n                              marginLeft: '1rem'\n                            },\n                            children: selectedSources && selectedSources.map(source => /*#__PURE__*/_jsxDEV(MDBBtn, {\n                              outline: true,\n                              size: \"sm\",\n                              className: `m-1 text-sm text-wrap text-capitalize`,\n                              color: \"primary\",\n                              onClick: e => {\n                                e.preventDefault();\n                                handlePreferenceClick(source, setSelectedSources);\n                              },\n                              children: source.name\n                            }, source.id, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 248,\n                              columnNumber: 33\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 246,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            backgroundColor: '#f8f9fa',\n                            marginLeft: '1rem'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n                            data: props.sources,\n                            setData: () => {\n                              setSelectedSources;\n                            },\n                            onSelectItem: item => handlePreferenceClick(item, setSelectedSources),\n                            selectedItems: selectedSources\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 265,\n                            columnNumber: 27\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between align-items-center mb-4\",\n                    children: /*#__PURE__*/_jsxDEV(MDBCardText, {\n                      className: \"lead fw-normal mb-0\",\n                      children: \"Recent Activities\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n                    children: ((_authData$user4 = authData.user) === null || _authData$user4 === void 0 ? void 0 : _authData$user4.viewedArticles.length) > 0 && authData.user.viewedArticles.map(article => /*#__PURE__*/_jsxDEV(MDBCol, {\n                      className: \"mb-2\",\n                      children: [\" \", /*#__PURE__*/_jsxDEV(MinimizedCardComponent, {\n                        article: article\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 51\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBModalFooter, {\n            children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n              onClick: handleSaveChanges,\n              children: \"Save preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ProfileModal, \"8C4zTjLwDb7zcTHQ67iA2rnGHTA=\", false, function () {\n  return [useForm];\n});\n_c = ProfileModal;\nvar _c;\n$RefreshReg$(_c, \"ProfileModal\");","map":{"version":3,"names":["React","useContext","useState","useEffect","InlineEdit","MDBBtn","MDBModal","MDBModalDialog","MDBModalContent","MDBModalHeader","MDBModalTitle","MDBModalBody","MDBModalFooter","MDBCol","MDBRow","MDBCard","MDBCardText","MDBCardBody","MDBCardImage","AuthContext","apiClient","useForm","InfiniteScroll","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileModal","_ref","_s","_authData$user4","showProfileModal","setShowProfile","props","authData","setAuthData","userName","setUserName","user","name","image","setImage","trim","replace","selectedCategories","setSelectedCategories","categories","filter","c","_authData$user","_authData$user$prefer","preferences","category_id","includes","id","map","el","selectedAuthors","setSelectedAuthors","authors","_authData$user2","_authData$user2$prefe","author_id","selectedSources","setSelectedSources","sources","_authData$user3","_authData$user3$prefe","source_id","setErrors","renderFieldError","message","setMessage","navigate","toggleShow","openFileInput","e","stopPropagation","preventDefault","document","getElementById","click","handleFileSelect","event","file","target","files","reader","FileReader","onload","handleFileRead","readAsDataURL","base64Image","result","handlePreferenceClick","objectItem","setObject","prevSelectedItems","updatedItems","itemIndex","indexOf","splice","push","handleSaveChanges","updatedData","user_id","post","then","response","console","log","status","prevAuthData","length","catch","error","data","errors","children","show","setShow","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","className","color","onClick","style","backgroundColor","height","width","src","alt","fluid","zIndex","outline","overflow","type","hidden","marginTop","value","setValue","marginLeft","cat","rounded","author","setData","onSelectItem","item","selectedItems","source","size","viewedArticles","article","MinimizedCardComponent","_c","$RefreshReg$"],"sources":["/home/sfn/Take Home Project/react-news-feed/src/Components/Modals/ProfileModal.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport InlineEdit from '../UI/InlineEditText';\nimport {\n  MDBBtn,\n  MDBModal,\n  MDBModalDialog,\n  MDBModalContent,\n  MDBModalHeader,\n  MDBModalTitle,\n  MDBModalBody,\n  MDBModalFooter,\n  MDBCol,\n  MDBRow,\n  MDBCard,\n  MDBCardText,\n  MDBCardBody,\n  MDBCardImage,\n} from 'mdb-react-ui-kit';\nimport AuthContext from '../../Contexts/AuthContext';\nimport apiClient from '../../Services/api';\nimport { useForm } from '../../Hooks/useForm';\nimport InfiniteScroll from '../UI/InfiniteScroll';\n\nexport default function ProfileModal({ showProfileModal,setShowProfile, props }) {\n  const { authData, setAuthData } = useContext(AuthContext);\n\n  const [userName, setUserName] = useState(authData && authData.user ? authData.user.name : '');\n  const [image, setImage] = useState(authData && authData.user ? authData.user.image.trim().replace('=,','=') : '');\n  const [selectedCategories, setSelectedCategories] = useState(props.categories.filter(c => authData && authData.user?.preferences?.category_id.includes(c.id)).map(el => el.id));\n  const [selectedAuthors, setSelectedAuthors] = useState(props.authors.filter(c => authData && authData.user?.preferences?.author_id.includes(c.id)));\n  const [selectedSources, setSelectedSources] = useState(props.sources.filter(c => authData && authData.user?.preferences?.source_id.includes(c.id)));\n\n  const { setErrors, renderFieldError, message, setMessage, navigate } = useForm();\n\n  const toggleShow = () => setShowProfile(!showProfileModal);\n  const openFileInput = (e) => {\n    e.stopPropagation();\n    e.preventDefault()\n    document.getElementById('file-input').click();\n  }\n\n  const handleFileSelect = (event) => {\n    event.preventDefault();\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = handleFileRead;\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleFileRead = (event) => {\n    event.preventDefault();\n    const base64Image = event.target.result;\n    setImage(base64Image);\n  };\n\n  // const handlePreferenceClick = (objectId,object) => {\n  //   console.log(objectId)\n  //   console.log(object)\n  //   object((prevSelectedCategories) => {\n  //     const updatedObject = [...prevSelectedCategories];\n  //     const categoryIndex = updatedObject.indexOf(objectId);\n\n  //     if (categoryIndex !== -1) {\n  //       updatedObject.splice(categoryIndex, 1); // Remove category if already selected\n  //     } else {\n  //       updatedObject.push(objectId); // Add category if not selected\n  //     }\n\n  //     return updatedObject;\n  //   });\n  // };\n\n\n  const handlePreferenceClick = (objectItem, setObject) => {\n    setObject((prevSelectedItems) => {\n      const updatedItems = [...prevSelectedItems];\n      const itemIndex = updatedItems.indexOf(objectItem);\n  \n      if (itemIndex !== -1) {\n        updatedItems.splice(itemIndex, 1); // Remove item if already selected\n      } else {\n        updatedItems.push(objectItem); // Add item if not selected\n      }\n  \n      return updatedItems;\n    });\n  };\n\n\n  const handleSaveChanges = (e) => {\n    e.preventDefault();\n\n    // Gather all the data from the modal\n    const updatedData = {\n      name: userName,\n      preferences: {\n        user_id: +authData.user.id,\n        category_id: selectedCategories,\n        source_id: selectedSources.map(el => {return el.id}),\n        author_id: selectedAuthors.map(el => {return el.id}),\n      },\n      image: image,\n    };\n\n    apiClient\n      .post('/api/updateProfile', updatedData)\n      .then((response) => {\n        console.log(response)\n        if(response.status == 200 || response.status == 204) {\n          // Update the userData after saving preferences\n          setAuthData((prevAuthData) => ({\n            ...prevAuthData,\n            user: {\n              ...prevAuthData.user,\n              name: userName,\n              preferences: {\n                ...prevAuthData.user.preferences,\n                category_id: selectedCategories.length ? selectedCategories : null,\n                source_id: selectedSources.length ? selectedSources : null,\n                author_id: selectedAuthors.length ? selectedAuthors : null,\n              },\n              image: image,\n            },\n          }));\n\n          setShowProfile(false);\n        }\n      })\n      .catch((error) => {\n        if (error.response.data.message) {\n          setMessage(error.response.data.message);\n        }\n        if (error.response.data.errors) {\n          setErrors(error.response.data.errors);\n        }\n      });\n  };\n\n  console.log(authData.user)\n  return (\n    <>\n      <MDBModal show={showProfileModal} setShow={setShowProfile} tabIndex='-1'>\n        <MDBModalDialog>\n          <MDBModalContent>\n            <MDBModalHeader>\n              <MDBModalTitle>Edit profile</MDBModalTitle>\n              <MDBBtn className='btn-close' color='none' onClick={toggleShow}></MDBBtn>\n            </MDBModalHeader>\n            <MDBModalBody>\n            <MDBCol>\n                {\n                    message && <div className=\"alert alert-danger\">{message}</div>\n                }\n              </MDBCol>\n              <div style={{ backgroundColor: '#9de2ff' }}>\n                <MDBCard>\n                  <div\n                    className='text-white d-flex flex-row'\n                    style={{ backgroundColor: '#000', height: '200px' }}\n                  >\n                    <div className='ms-4 mt-5 d-flex flex-column' style={{ width: '150px' }}>\n                      {image && (\n                        <MDBCardImage\n                          src={image}\n                          alt='Generic placeholder image'\n                          className='mt-4 mb-2 img-thumbnail'\n                          fluid\n                          style={{ width: '150px', zIndex: '1' }}\n                        />\n                      )}\n                      <MDBBtn outline color='dark' style={{ height: '36px', overflow: 'visible' }}  onClick={openFileInput}>\n                        Change picture\n                      </MDBBtn>\n                      <input type='file' onClick={handleFileSelect} hidden id='file-input' />\n                    </div>\n                    <div className='ms-3' style={{ marginTop: '130px' }}>\n                      <InlineEdit value={userName} setValue={setUserName} />\n                    </div>\n                  </div>\n                  <MDBCardBody className='mt-5 text-black p-4'>\n                    <div className='d-bloc justify-content-between align-items-center mb-4'>\n                    <MDBCardText className='lead pr-2 mt-1 fw-normal mb-0 bg-primary text-sm fs-6 text-white p-2'>Choose your favorite categories:</MDBCardText>\n                        <div className='p-1 mt-2' style={{ backgroundColor: '#f8f9fa', marginLeft:'1rem' }}>\n                        {/* Map over the categories and render the buttons */}\n                        {props.categories.map((cat) => (\n                          <MDBBtn\n                            outline\n                            rounded\n                            key={cat.id}\n                            className={`m-1 ${selectedCategories.includes(cat.id) ? 'bg-primary text-white' : ''}`}\n                            color='primary'\n                            onClick={(e) => {\n                              e.preventDefault();\n                              handlePreferenceClick(cat.id,setSelectedCategories);\n                            }}\n                          >\n                            {cat.name}\n                          </MDBBtn>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className='mb-2'>\n                      <div className='p-1 ml-2' style={{ backgroundColor: '#f8f9fa' }}>\n                      <div>\n                        <div className='d-bloc justify-content-between align-items-center'>\n                          <MDBCardText className='lead pr-2 fw-normal mb-0 bg-primary fs-6 text-white p-2'>Choose your favorite author:</MDBCardText>\n                          <div className='p-1 mt-2' style={{ backgroundColor: '#f8f9fa', marginLeft:'1rem' }}>\n                            {selectedAuthors && selectedAuthors.map((author) => (\n                                <MDBBtn\n                                  outline\n                                  rounded\n                                  key={author.id}\n                                  className={`m-1 text-sm text-wrap text-capitalize  btn-sm`}\n                                  color='primary'\n                                  onClick={(e) => {\n                                    e.preventDefault();\n                                    handlePreferenceClick(author, setSelectedAuthors);\n                                  }}\n                                >\n                                  {author.name}\n                                </MDBBtn>\n                              ))}\n                          </div>\n                        </div>\n                        <div style={{ backgroundColor: '#f8f9fa', marginLeft:'1rem' }}>\n                          <InfiniteScroll \n                            data={props.authors} \n                            setData={() => {setSelectedAuthors}} \n                            onSelectItem={(item) => handlePreferenceClick(item, setSelectedAuthors)}\n                            selectedItems={selectedAuthors}\n                          />\n                        </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className='mb-2'>\n                      <div className='p-1 ml-2' style={{ backgroundColor: '#f8f9fa' }}>\n                      <div>\n                        <div className='d-bloc justify-content-between align-items-center'>\n                          <MDBCardText className='lead pr-2 fw-normal mb-0 bg-primary fs-6 text-white p-2'>Choose your favorite source:</MDBCardText>\n                          <div className='p-1 mt-2' style={{ backgroundColor: '#f8f9fa', marginLeft:'1rem' }}>\n                            {selectedSources && selectedSources.map((source) => (\n                                <MDBBtn\n                                  outline\n                                  size='sm'\n                                  key={source.id}\n                                  className={`m-1 text-sm text-wrap text-capitalize`}\n                                  color='primary'\n                                  onClick={(e) => {\n                                    e.preventDefault();\n                                    handlePreferenceClick(source, setSelectedSources);\n                                  }}\n                                >\n                                  {source.name}\n                                </MDBBtn>\n                              ))}\n                          </div>\n                        </div>\n                        <div style={{ backgroundColor: '#f8f9fa', marginLeft:'1rem' }}>\n                          <InfiniteScroll \n                            data={props.sources} \n                            setData={() => {setSelectedSources}} \n                            onSelectItem={(item) => handlePreferenceClick(item, setSelectedSources)}\n                            selectedItems={selectedSources}\n                          />\n                        </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className='d-flex justify-content-between align-items-center mb-4'>\n                      <MDBCardText className='lead fw-normal mb-0'>Recent Activities</MDBCardText>\n                    </div>\n                    <MDBRow>\n                      { authData.user?.viewedArticles.length > 0 && authData.user.viewedArticles.map((article) =>  (\n                        <MDBCol className='mb-2'> <MinimizedCardComponent article={article}/> </MDBCol>\n                      ))}\n                    </MDBRow>\n                  </MDBCardBody>\n                </MDBCard>\n              </div>\n            </MDBModalBody>\n\n            <MDBModalFooter>\n              <MDBBtn onClick={handleSaveChanges}>Save preferences</MDBBtn>\n            </MDBModalFooter>\n          </MDBModalContent>\n        </MDBModalDialog>\n      </MDBModal>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}