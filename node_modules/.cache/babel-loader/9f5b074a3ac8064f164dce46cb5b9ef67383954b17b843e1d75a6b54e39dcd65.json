{"ast":null,"code":"import { useContext } from 'react';\nimport apiClient from '../Services/api';\nimport AuthContext from '../Contexts/AuthContext';\nconst {\n  authData\n} = useContext(AuthContext);\nconst useUtils = () => {\n  const formatDate = date => {\n    return date.split(' ')[0].split('-').reverse().join('.'); // \"2023-05-11 06:32:00\" => \"11.05.2023\"\n  };\n\n  const navigateByUrl = (article_id, url) => {\n    if (authData && authData.user) {\n      saveArticle(article_id);\n    } else {\n      window.location.href(url, '_blank');\n    }\n  };\n  const saveArticle = article_id => {\n    apiClient.post('/api/save_article', {\n      article_id\n    }).then(response => {\n      if (response.data) {\n        window.location.href(url, '_blank');\n      }\n    }).catch(error => {\n      if (error.response) {\n        // do nothing for now ..\n      }\n    });\n  };\n  return {\n    formatDate,\n    navigateByUrl\n  };\n};\nexport default useUtils;","map":{"version":3,"names":["useContext","apiClient","AuthContext","authData","useUtils","formatDate","date","split","reverse","join","navigateByUrl","article_id","url","user","saveArticle","window","location","href","post","then","response","data","catch","error"],"sources":["/home/sfn/Take Home Project/react-news-feed/src/Hooks/utils.js"],"sourcesContent":["import { useContext } from 'react';\nimport apiClient from '../Services/api';\nimport AuthContext from '../Contexts/AuthContext';\nconst { authData } = useContext(AuthContext);\nconst useUtils = () => {\n\n  const formatDate = (date) => {\n    return date.split(' ')[0].split('-').reverse().join('.'); // \"2023-05-11 06:32:00\" => \"11.05.2023\"\n  };\n\n  const navigateByUrl = (article_id,url) => {\n    if(authData && authData.user){\n      saveArticle(article_id)\n    }else {\n      window.location.href(url,'_blank');\n    }\n  };\n\n  const saveArticle = (article_id) => {\n    apiClient.post('/api/save_article', {article_id}).then(response => {\n      if(response.data) {\n        window.location.href(url,'_blank');\n        }\n    }).catch(error => {\n        if(error.response) {\n          // do nothing for now ..\n      }\n    });\n  }\n\n  return {\n    formatDate,\n    navigateByUrl\n  };\n};\n\nexport default useUtils;\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,WAAW,MAAM,yBAAyB;AACjD,MAAM;EAAEC;AAAS,CAAC,GAAGH,UAAU,CAACE,WAAW,CAAC;AAC5C,MAAME,QAAQ,GAAGA,CAAA,KAAM;EAErB,MAAMC,UAAU,GAAIC,IAAI,IAAK;IAC3B,OAAOA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,CAAC;;EAED,MAAMC,aAAa,GAAGA,CAACC,UAAU,EAACC,GAAG,KAAK;IACxC,IAAGT,QAAQ,IAAIA,QAAQ,CAACU,IAAI,EAAC;MAC3BC,WAAW,CAACH,UAAU,CAAC;IACzB,CAAC,MAAK;MACJI,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACL,GAAG,EAAC,QAAQ,CAAC;IACpC;EACF,CAAC;EAED,MAAME,WAAW,GAAIH,UAAU,IAAK;IAClCV,SAAS,CAACiB,IAAI,CAAC,mBAAmB,EAAE;MAACP;IAAU,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAQ,IAAI;MACjE,IAAGA,QAAQ,CAACC,IAAI,EAAE;QAChBN,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACL,GAAG,EAAC,QAAQ,CAAC;MAClC;IACJ,CAAC,CAAC,CAACU,KAAK,CAACC,KAAK,IAAI;MACd,IAAGA,KAAK,CAACH,QAAQ,EAAE;QACjB;MAAA;IAEN,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACLf,UAAU;IACVK;EACF,CAAC;AACH,CAAC;AAED,eAAeN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}